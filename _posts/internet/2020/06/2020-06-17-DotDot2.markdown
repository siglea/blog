---
layout: post
title:  "DotDot2"
date:   2020-06-17 21:25:00 +0900
comments: true
tags:
- 数据结构与算法
- BigData
- 分布式
categories:
- 技术
---
1. Hotspot 的作者经过以往的研究发现大多数情况下锁不仅不存在多线程竞争，而且总是由同一线
程多次获得。偏向锁的目的是在某个线程获得锁之后，消除这个线程锁重入(CAS)的开销，看起
来让这个线程得到了偏护。引入偏向锁是为了在无多线程竞争的情况下尽量减少不必要的轻量级
锁执行路径，因为轻量级锁的获取及释放依赖多次 CAS 原子指令，而偏向锁只需要在置换
ThreadID 的时候依赖一次 CAS 原子指令(由于一旦出现多线程竞争的情况就必须撤销偏向锁，所
以偏向锁的撤销操作的性能损耗必须小于节省下来的 CAS 原子指令的性能消耗)。上面说过，轻
量级锁是为了在线程交替执行同步块时提高性能，而偏向锁则是在只有一个线程执行同步块时进
一步提高性能。
1. 很多情况下，主线程生成并启动了子线程，需要用到子线程返回的结果，也就是需要主线程需要
   在子线程结束后再结束，这时候就要用到 join() 方法。