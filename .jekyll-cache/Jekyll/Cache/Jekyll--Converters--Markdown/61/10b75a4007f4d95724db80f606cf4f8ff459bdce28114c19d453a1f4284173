I"Ì<p>Iâ€™m quite tired with copy-pasting passwords from my Evernote every time I  login to my companyâ€™s remote server. Especially my company uses a proxy server, which means I have to type two passwords to eventually login.</p>

<p>ï¼ˆ;â‰§çš¿â‰¦ï¼‰ã€‚ã‚œÂ°ã€‚</p>

<p>Then I found Keygen tool, which can help us login without typing password.</p>

<p>ï¼¼ï¼ˆâ—‹ï¼¾Ï‰ï¼¾â—‹ï¼‰ï¼</p>

<p>SSH Keygen is to generate a pair of key, putting the public key in your remote server, secret key in your local machine.
If you are also using a Mac, <code class="highlighter-rouge">~/.ssh/id_ras</code> is the default option of storing secret key, <code class="highlighter-rouge">~/.ssh/id_ras</code> for public key. You can create many key pairs, and specify which pair to use by adding <code class="highlighter-rouge">IdentityFile</code> option in your <code class="highlighter-rouge">~/.ssh/config</code> file.</p>

<h3 id="configurations-with-single-ssh-connection">Configurations With Single SSH Connection</h3>

<h4 id="1-generate-keys-in-your-local-machine">1. generate keys in your local machine</h4>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>~ ssh-keygen
Generating public/private rsa key pair.
Enter file in which to save the key (/Users/user/.ssh/id_rsa): [press Enter]
Enter passphrase (empty for no passphrase): [press Enter]
Enter same passphrase again: [press Enter]
Your identification has been saved in /Users/user/.ssh/id_rsa.
Your public key has been saved in /Users/user/.ssh/id_rsa.pub.
The key fingerprint is:
**fingerprint**
The key's randomart image is:
+---[RSA 2048]----+
|    ...          |
|     o . .       |
|    o o + o      |
|     + B B +     |
| .   .= S B o    |
|=o...o.o * o     |
|Bo+oE ... +      |
|=.++ ..  .       |
|o++oooo.         |
+----[SHA256]-----+
</code></pre></div></div>

<h4 id="2-copy-public-key-to-your-server">2. copy public key to your server</h4>

<p>If you havenâ€™t installed <code class="highlighter-rouge">ssh-copy-id</code> yet,  use homebrew or Macports to install it.
Then, copy your public key to your remote server, this step needs you type password.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>~ ssh-copy-id -i ~/.ssh/id_rsa.pub username@servername
</code></pre></div></div>

<h4 id="3-try-login-without-password">3. Try login without password</h4>
<p>Finally, make sure you can now login without password, and itâ€™s done.</p>

<p>ãƒ˜(ãƒ»ã€ãƒ˜)ãƒ›ã‚¤ãƒ›ã‚¤(ãƒã€ãƒ»)ãƒãƒ›ã‚¤ãƒ›ã‚¤</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>~ ssh username@servername
Last login: Sat Sep 17 15:00:45 2016 from XXX.XXX.XXX.XXX
</code></pre></div></div>

<hr />

<h3 id="configurations-for-multiple-ssh-connections">Configurations for Multiple SSH connections</h3>

<h4 id="1-change-ssh-configuration">1. change ssh configuration</h4>

<p>If you use a proxy server like my company does, edit <code class="highlighter-rouge">.ssh/config</code> file to change your ssh configuration (If there is no file named <code class="highlighter-rouge">config</code> in OSX, create a new one).</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Host [servername]
ServerAliveInterval 90
ServerAliveCountMax 8
Hostname [username@servername]
User [username]
ProxyCommand ssh [username@proxyname] nc %h %p
</code></pre></div></div>

<h4 id="2-generate-key-pairs">2. generate key pairs</h4>
<p>Same as Step 1 in Single SSH connection do.</p>

<h4 id="3-copy-your-public-key-to-both-your-proxy-server-and-your-real-server">3. copy your public key to both your proxy server and your real server</h4>
<p>Same as Step 2 in Single SSH connection do.</p>

<h4 id="3-try-login-without-password-1">3. Try login without password</h4>
<p>Make sure you can login your real server password, and itâ€™s done.</p>

<p>ãƒ˜(ãƒ»ã€ãƒ˜)ãƒ›ã‚¤ãƒ›ã‚¤(ãƒã€ãƒ»)ãƒãƒ›ã‚¤ãƒ›ã‚¤</p>
<hr />

<h4 id="my-environment">My Environment</h4>
<p>OSX: 10.11.4</p>

<p>iTerm2: 3.0.9</p>
:ET