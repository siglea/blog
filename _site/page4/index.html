<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>粉笔灰杂谈</title>
  <meta name="description" content="关于产品、技术、商业的一些见解，顺便记录一下自己的生活感悟和读书笔记。">
  <script src="/static/jquery-3.1.1.min.js"></script>
  <link rel="stylesheet" href="/static/bootstrap.min.css">
  <link rel="stylesheet" href="/static/font-awesome-4.6.3/css/font-awesome.min.css">
  <script src="/static/bootstrap.min.js"></script>
  <!-- should put bootstrap before main style sheet, otherwise it't hard to override  -->
  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="/css/syntax.css">
  <link rel="canonical" href="http://localhost:4000/page4/">
  <link rel="alternate" type="application/rss+xml" title="粉笔灰杂谈" href="http://localhost:4000/feed.xml">
</head>

  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-86140592-1', 'auto');
  ga('send', 'pageview');

</script>

  <body>

    <header class="site-header">
  <div class="container" style="text-align:center">
    <div class="navbar" style="margin-bottom:0;border:0">
    <ul class="navbar-nav nav header-nav">
    <li><a href="/index.html" class="button">首页</a></li>
      <li><a href="/category/技术" class="button">技术</a></li>
      <li><a href="/category/产品商业" class="button">产品商业</a></li>
      <li><a href="/category/随记" class="button">随记</a></li>
    </ul>
    </div>
  </div>

</header>
<div class="clearfix">


    <div class="page-content">
      <div class="container" style="padding-left:0;padding-right:0;">
        <div class="row" style="margin-bottom:30px">
  <div class="home col-md-8">
    
    <div class="post-contents">
      <h2>
        <a class="post-link" href="/%E4%BA%A7%E5%93%81%E5%95%86%E4%B8%9A/2020/06/24/O2O%E6%B4%BE%E5%8D%95.html">O2O派单</a>
      </h2>
      <span class="post-meta"><i class="fa fa-calendar">&nbsp;&nbsp;</i>Jun 24, 2020</span>
      <span class="post-meta" style="margin-left:50px;margin-right:50px;"><i class="fa fa-comment-o">&nbsp;&nbsp;</i><a style="color:#828282" href="/%E4%BA%A7%E5%93%81%E5%95%86%E4%B8%9A/2020/06/24/O2O%E6%B4%BE%E5%8D%95.html#disqus_thread"></a></span>
      
      <span class="post-meta" ><i class="fa fa-tags">&nbsp;&nbsp;</i>策略</span>
      

      <div class="post-content truncate" itemprop="articleBody" style="max-height:300px;margin-top:20px;">
	<h4 id="策略">策略</h4>
<ul>
  <li>代驾偏向派单，因为司机就位或者返程的隐形+显性成本更高，导致抢单模式下，挑单严重，成单率底。</li>
  <li>派单的业务基本价格都高些，就是用整体的收入，保证用户的高质量体验。包括偏远地区的调度，某种程度平台都需要补贴。</li>
  <li>偏远订单，是应该用户加价、平台补贴、优质司机降成本，来保证公平。里程收费标准 和 调度费是两个维度的事情。</li>
  <li>高峰期派单更好些，因为高峰期意味着下一单需求也旺盛，快速派其实对整体效率更高。派单其实只是抢单的一种特殊形式，高峰期也是秒抢</li>
  <li>长途代驾，预约单非实时场景也是需要抢单。</li>
  <li>抢单更自由的市场</li>
  <li><a href="https://mp.weixin.qq.com/s/mbzr55b-0KrNXdrBTMcYcg">https://mp.weixin.qq.com/s/mbzr55b-0KrNXdrBTMcYcg</a></li>
  <li>神秘的滴滴派单算法 <a href="https://mp.weixin.qq.com/s/xcai7k60yUUQTwrB2f3Dng">https://mp.weixin.qq.com/s/xcai7k60yUUQTwrB2f3Dng</a>
    <ul>
      <li>距离贪心算法占75%左右订单</li>
      <li>全局最优（基于时间贪心算法批量匹配，基于供需预测动态调整等待时间）</li>
      <li>连环派单 即将订单指派给 即将结束服务 的司机，条件为如果司机的终点与订单位置很相近</li>
    </ul>
  </li>
  <li><a href="https://mp.weixin.qq.com/s/glH946LRbqmchIi5mosn5w">https://mp.weixin.qq.com/s/glH946LRbqmchIi5mosn5w</a></li>
</ul>

<h4 id="算法">算法</h4>
<ul>
  <li>车辆路径问题（Vehicle Routing Problem, VRP）等 <a href="https://blog.csdn.net/weixin_43890937/article/details/103869603">https://blog.csdn.net/weixin_43890937/article/details/103869603</a></li>
</ul>

<h4 id="产品理论">产品理论</h4>
<ul>
  <li>司机调度与接单意愿 <a href="https://mp.weixin.qq.com/s/gV0Bm7aCziABaE-cdnJczg">https://mp.weixin.qq.com/s/gV0Bm7aCziABaE-cdnJczg</a></li>
  <li>遗失物品与修改目的地 <a href="https://mp.weixin.qq.com/s/I5ofTQA11V4h2ApTGXvNVQ">https://mp.weixin.qq.com/s/I5ofTQA11V4h2ApTGXvNVQ</a></li>
  <li>司机产品的四个关键问题 <a href="https://mp.weixin.qq.com/s/DGKyyP7khHy7HcVADIX4mQ">https://mp.weixin.qq.com/s/DGKyyP7khHy7HcVADIX4mQ</a></li>
  <li>外卖派单 <a href="https://mp.weixin.qq.com/s/cwLC2Ukhqe2HQlK827TjBQ">https://mp.weixin.qq.com/s/cwLC2Ukhqe2HQlK827TjBQ</a></li>
  <li>从架构到算法，详解美团外卖订单分配内部机制 <a href="https://mp.weixin.qq.com/s/84kj45NIx5SkbN7ed9c_Aw">https://mp.weixin.qq.com/s/84kj45NIx5SkbN7ed9c_Aw</a></li>
</ul>

      </div>
      <div style="height:50px;">
	<a href="/%E4%BA%A7%E5%93%81%E5%95%86%E4%B8%9A/2020/06/24/O2O%E6%B4%BE%E5%8D%95.html" class="button readmore-button">Read More</a>
      </div>
    </div>
    <br />
    
    <div class="post-contents">
      <h2>
        <a class="post-link" href="/%E4%BA%A7%E5%93%81%E5%95%86%E4%B8%9A/2020/06/22/SaaS%E4%B8%9A%E5%8A%A1.html">SaaS业务分析</a>
      </h2>
      <span class="post-meta"><i class="fa fa-calendar">&nbsp;&nbsp;</i>Jun 22, 2020</span>
      <span class="post-meta" style="margin-left:50px;margin-right:50px;"><i class="fa fa-comment-o">&nbsp;&nbsp;</i><a style="color:#828282" href="/%E4%BA%A7%E5%93%81%E5%95%86%E4%B8%9A/2020/06/22/SaaS%E4%B8%9A%E5%8A%A1.html#disqus_thread"></a></span>
      
      <span class="post-meta" ><i class="fa fa-tags">&nbsp;&nbsp;</i>toB</span>
      

      <div class="post-content truncate" itemprop="articleBody" style="max-height:300px;margin-top:20px;">
	<h4 id="中国saas的增长困境">中国SaaS的增长困境</h4>
<ul>
  <li>SaaS的收入模式是订阅模式，而订阅收入的衡量指标是所谓的NDR（Net Dollar Retention），也就是收入的净留存。
  NDR的计算公式为：NDR=(beginningrevenue+upgrades-downgrades-churn)/beginning revenue</li>
  <li>SaaS销售员的首要任务不是成交，而是找到可合作的优质客户，其次的责任才是成交。</li>
  <li>销售员这个角色，在SaaS公司应该被定义为播种者，而非收割者。
改变培训导向和调整提成制度。引导价值成交，树立SaaS的销售业绩导向。</li>
  <li>ARR是annual recurring revenue的缩写</li>
  <li><a href="https://news.futunn.com/market/125247">https://news.futunn.com/market/125247</a></li>
  <li><a href="https://zhuanlan.zhihu.com/p/101133113">https://zhuanlan.zhihu.com/p/101133113</a></li>
</ul>


      </div>
      <div style="height:50px;">
	<a href="/%E4%BA%A7%E5%93%81%E5%95%86%E4%B8%9A/2020/06/22/SaaS%E4%B8%9A%E5%8A%A1.html" class="button readmore-button">Read More</a>
      </div>
    </div>
    <br />
    
    <div class="post-contents">
      <h2>
        <a class="post-link" href="/%E4%BA%A7%E5%93%81%E5%95%86%E4%B8%9A/2020/06/22/UserProfile.html">用户画像</a>
      </h2>
      <span class="post-meta"><i class="fa fa-calendar">&nbsp;&nbsp;</i>Jun 22, 2020</span>
      <span class="post-meta" style="margin-left:50px;margin-right:50px;"><i class="fa fa-comment-o">&nbsp;&nbsp;</i><a style="color:#828282" href="/%E4%BA%A7%E5%93%81%E5%95%86%E4%B8%9A/2020/06/22/UserProfile.html#disqus_thread"></a></span>
      
      <span class="post-meta" ><i class="fa fa-tags">&nbsp;&nbsp;</i>用户</span>
      

      <div class="post-content truncate" itemprop="articleBody" style="max-height:300px;margin-top:20px;">
	<h4 id="核心">核心</h4>
<ul>
  <li>用户画像体系，有这一篇就够了 <a href="https://mp.weixin.qq.com/s/WbBUX2g_XhGXrH9xtv0i2Q">https://mp.weixin.qq.com/s/WbBUX2g_XhGXrH9xtv0i2Q</a></li>
  <li>用户画像原理、技术选型及架构实现 <a href="https://blog.csdn.net/SecondLieutenant/article/details/81153565">https://blog.csdn.net/SecondLieutenant/article/details/81153565</a></li>
</ul>

<h4 id="用户画像概述">用户画像概述</h4>
<ul>
  <li>用户画像根本目的就是寻找目标客户、优化产品设计，指导运营策略，分析业务场景和完善业务形态。</li>
  <li>不同的企业做用户画像有不同的战略目的，广告公司做用户画像是为精准广告服务，电商做用户画像是为用户购买更多商品，内容平台做用户画像是推荐用户更感兴趣的内容提升流量再变现，金融行业做用户画像是为了寻找到目标客户的同时做好风险的控制。</li>
</ul>

<h4 id="画像维度">画像维度</h4>
<ul>
  <li>特征：
    <ul>
      <li>人口统计：性别、年龄、教育</li>
      <li>社会属性：家庭、社交、职业</li>
    </ul>
  </li>
  <li>行为：
    <ul>
      <li>使用行为：手机使用、电脑类型、套餐使用、套餐余额</li>
      <li>消费行为：购买力、购买频次、购买渠道、额度、信用等级</li>
    </ul>
  </li>
  <li>需求
    <ul>
      <li>偏好属性：兴趣爱好、品牌爱好、产品爱好、网购偏好、支付偏好、价格偏好</li>
      <li>潜在需求：</li>
    </ul>
  </li>
</ul>

<h4 id="指标体系">指标体系</h4>
<ul>
  <li>用户属性维度</li>
  <li>用户行为维度</li>
  <li>用户消费维度</li>
  <li>风险控制维度</li>
  <li>社交属性维度</li>
</ul>

<h4 id="画像之静态标签动态标签">画像之静态标签、动态标签</h4>
<ul>
  <li>静态画像：实时性弱、覆盖广、粒度粗</li>
  <li>动态画像：
    <ul>
      <li>一般建立兴趣模型，更加实时并且动态</li>
      <li>用户行为可疑结构为5W（What/Who/When/Where/Why)</li>
      <li>时效性非常敏感</li>
      <li>在空间上，不同应用领域侧重点不同，营销领域更侧重消费习惯，推荐领域更侧重喜好</li>
    </ul>
  </li>
</ul>

<h4 id="画像之标签结构化程度">画像之标签结构化程度</h4>
<ul>
  <li>结构化标签体系，定向广告平台采用的结构化标签体系</li>
  <li>半结构化标签体系，在用于效果广告时，标签设计的灵活性大大提高了。标签体系是不是规整，就不那么重要了，只要有效果就行。</li>
  <li>非结构化标签体系，非结构化，就是各个标签就事论事，各自反应各自的用户兴趣，彼此之间并无层级关系，也很难组织成规整的树状结构。非结构化标签的典型例子，是搜索广告里用的关键词。还有Facebook用的用户兴趣词</li>
  <li>例如
    <ul>
      <li>汽车行业的标签体系大体应该是：价格—&gt;车型—&gt;品牌</li>
      <li>游戏行业：按照类别、游戏素材、游戏厂商等等。游戏的用户决策过程总体上令人难以捉摸，这是因为它有点儿电影、音乐一样的艺术性特质。而人们对艺术的喜爱，并不是理性的，也就难以总结规律。</li>
      <li>电商行业的实际做法大家都看到了，基本上不依靠分类，完全以“单品+个性化推荐”的方法构建和使用标签体系。</li>
    </ul>
  </li>
</ul>

<h4 id="画像之应用">画像之应用</h4>
<ul>
  <li>精准营销：根据历史用户特征，分析产品的潜在用户和用户的潜在需求，针对特定群体，利用短信、邮件等方式进行营销。</li>
  <li>用户统计：根据用户的属性、行为特征对用户进行分类后，统计不同特征下的用户数量、分布；分析不同用户画像群体的分布特征。</li>
  <li>数据挖掘：以用户画像为基础构建推荐系统、搜索引擎、广告投放系统，提升服务精准度。</li>
  <li>服务产品：对产品进行用户画像，对产品进行受众分析，更透彻地理解用户使用产品的心理动机和行为习惯，完善产品运营，提升服务质量。</li>
  <li>行业报告&amp;用户研究：通过用户画像分析可以了解行业动态，比如人群消费习惯、消费偏好分析、不同地域品类消费差异分析</li>
</ul>

<h4 id="画像之reachctr曲线">画像之reach/CTR曲线</h4>
<ul>
  <li>reach：该标签占总用户比例</li>
  <li>CTR：点击率</li>
  <li>reach越大，一般情况CTR会小</li>
</ul>

<h4 id="用户画像架构图">用户画像架构图</h4>
<p><img src="/img/user_profile.jpg" width="600px" /></p>

<h4 id="用户画像后台标签">用户画像后台标签</h4>
<p><img src="/img/user_profile_admin.jpg" width="600px" /></p>

<h4 id="用户业务标签">用户业务标签</h4>
<p><img src="/img/user_profile_tags.jpg" width="600px" /></p>

<h4 id="会员理论模型">会员理论模型</h4>
<ul>
  <li>会员体系模型：AIPL
    <ul>
      <li>Awareness潜客：内容运营、宣传吸引、新手任务、了解产品</li>
      <li>Interest粉丝：社会新闻、热点话题、习惯养成、积分积累</li>
      <li>Purchase会员：日常任务、促销活动、品牌影响力、共同利益</li>
      <li>Loyalty超级会员：专属特权、心理诉求、社群活动、1V1维护</li>
    </ul>
  </li>
  <li>会员体系模型：RFM
    <ul>
      <li>R(Recency)近度：距某节点最近的一次消费</li>
      <li>F(Frequency)频度：消费频次</li>
      <li>M (Monetary)额度：消费金额
<img src="/img/RFM.jpg" width="600px" /></li>
    </ul>
  </li>
  <li>会员体系模型：AARRR
    <ul>
      <li>Acquisition（获取用户）：关注PV、UV、CPC、点击转化率、注册量、注册率、获客成本CAC</li>
      <li>Activation（提高活跃度）：关注登陆量、激活转化率、活跃度指标</li>
      <li>Retention（提高留存率）：关注留存率、复购率、人均购买次数、召回率</li>
      <li>Revenue（获取收入）：关注获客成本、顾客终身价值、营销ROI</li>
      <li>Referral（传播）：关注邀请量、激活量、邀请激活率、传播系数</li>
    </ul>
  </li>
  <li>鱼塘理论
    <ul>
      <li>养鱼、抓潜、成交、追销、形成自己的鱼塘</li>
    </ul>
  </li>
  <li>《上瘾》Hook模型概念
    <ul>
      <li>触发Trigger：即诱发用户采取行动，进入系统的契机。这是上瘾模型的第一步，也是最关键一步，如果这步不能引起用户的兴趣，后续就无从谈起。</li>
      <li>行动Action：按照斯坦福大学B.J.Fogg博士的Behavior Model理论，B=MAT，即行动（Behavior）=动机（Motivation）+能力（Ability）+触发器（Trigger）。</li>
      <li>多变的酬赏Variable Reward：当行为被触发之后，接下来就需要给用户一些酬赏进行持续刺激，以培养对他们对产品的使用习惯。酬赏简单来说就是产品带给用户的满足感，但为什么要强调“多变”呢？
  据行为学研究，人们对产品的满足感会随着时间的推移逐渐降低，即使现阶段用户因为产品解决了某方面问题而产生依赖，但市面上的新产品层出不穷，要想不被淘汰，“无穷的多变性”是保持产品神秘感和吸引力，维持用户长期兴趣的关键。</li>
      <li>投入Investment：有研究表明，用户对某个产品投入时间精力的多寡与对这个产品的依赖程度成正比，就像免费东西你不会珍惜，而氪过金的游戏或服务反而会不断充值一样。已经享受酬赏的用户，想要他们对你的产品彻底“上瘾”，最后一步就是要让他们有所投入。
 <img src="/img/hook.jpg" width="600px" /></li>
    </ul>
    <p><a href="https://www.sohu.com/a/239048631_100180218">https://www.sohu.com/a/239048631_100180218</a></p>
  </li>
  <li>《疯传》STEPPS原则
    <ul>
      <li>社交货币（Social Currency）：我们会共享那些能让我们显得更优秀的事情</li>
      <li>诱因（Triggers）：顶尖的记忆，风口浪尖的提醒</li>
      <li>情绪（Emotion）：当我们关心时，我们回去分享</li>
      <li>公共性（Public）：构建可视的、正面的事物</li>
      <li>实用价值（Practical Value）：如果有用，人们会情不自禁地分享</li>
      <li>故事（Stories）：好故事就意味着成功了一般，好故事都有翅膀</li>
    </ul>
  </li>
</ul>

<h4 id="参考">参考</h4>
<ul>
  <li>用户研究：如何做用户画像分析 <a href="https://www.jianshu.com/p/440c30383bec">https://www.jianshu.com/p/440c30383bec</a></li>
  <li>什么是用户画像和标签？ <a href="http://www.woshipm.com/user-research/1083807.html">http://www.woshipm.com/user-research/1083807.html</a></li>
  <li>结构化标签、非结构化标签及reach/CTR曲线 <a href="http://www.woshipm.com/user-research/436269.html">http://www.woshipm.com/user-research/436269.html</a></li>
  <li>电商案例、金融案例（用户画像标签体系——从零开始搭建实时用户画像） <a href="https://cloud.tencent.com/developer/column/79937">https://cloud.tencent.com/developer/column/79937</a></li>
  <li>航空公司案例、证券案例、打车公司案例 <a href="https://www.zhihu.com/question/302695500">https://www.zhihu.com/question/302695500</a></li>
  <li>从阿里会员解读会员体系建设 <a href="https://zhuanlan.zhihu.com/p/88738148">https://zhuanlan.zhihu.com/p/88738148</a></li>
  <li>用户画像10大误区 <a href="https://mp.weixin.qq.com/s/Nzxa7stwvLhDvfSzqkCeAA">https://mp.weixin.qq.com/s/Nzxa7stwvLhDvfSzqkCeAA</a></li>
  <li>1号店案例 <a href="https://mp.weixin.qq.com/s/gtwdjTS9x_0xGKWEgo1zxg">https://mp.weixin.qq.com/s/gtwdjTS9x_0xGKWEgo1zxg</a></li>
  <li>Qunar用户画像构建策略及应用实践 <a href="https://blog.csdn.net/xiaoshunzi111/article/details/53170658">https://blog.csdn.net/xiaoshunzi111/article/details/53170658</a></li>
  <li>
    <table>
      <tbody>
        <tr>
          <td>携程</td>
          <td>手把手教你用大数据打造用户画像 <a href="https://blog.csdn.net/chenjunji123456/article/details/54966633">https://blog.csdn.net/chenjunji123456/article/details/54966633</a></td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>《用户画像：方法论与工程化解决方案》<a href="https://www.jianshu.com/p/94dadecc162b">https://www.jianshu.com/p/94dadecc162b</a></li>
  <li>汽车之家如何构建用户画像 <a href="https://mp.weixin.qq.com/s/ihvcpS0Mb5G1_-EzrhEOBw">https://mp.weixin.qq.com/s/ihvcpS0Mb5G1_-EzrhEOBw</a></li>
</ul>

      </div>
      <div style="height:50px;">
	<a href="/%E4%BA%A7%E5%93%81%E5%95%86%E4%B8%9A/2020/06/22/UserProfile.html" class="button readmore-button">Read More</a>
      </div>
    </div>
    <br />
    
    <div class="post-contents">
      <h2>
        <a class="post-link" href="/%E6%8A%80%E6%9C%AF/2020/06/17/JavaFoundation.html">Java基础</a>
      </h2>
      <span class="post-meta"><i class="fa fa-calendar">&nbsp;&nbsp;</i>Jun 17, 2020</span>
      <span class="post-meta" style="margin-left:50px;margin-right:50px;"><i class="fa fa-comment-o">&nbsp;&nbsp;</i><a style="color:#828282" href="/%E6%8A%80%E6%9C%AF/2020/06/17/JavaFoundation.html#disqus_thread"></a></span>
      
      <span class="post-meta" ><i class="fa fa-tags">&nbsp;&nbsp;</i>Java</span>
      

      <div class="post-content truncate" itemprop="articleBody" style="max-height:300px;margin-top:20px;">
	<h4 id="基础">基础</h4>
<ol>
  <li>Hotspot 的作者经过以往的研究发现大多数情况下锁不仅不存在多线程竞争，而且总是由同一线
程多次获得。偏向锁的目的是在某个线程获得锁之后，消除这个线程锁重入(CAS)的开销，看起
来让这个线程得到了偏护。引入偏向锁是为了在无多线程竞争的情况下尽量减少不必要的轻量级
锁执行路径，因为轻量级锁的获取及释放依赖多次 CAS 原子指令，而偏向锁只需要在置换
ThreadID 的时候依赖一次 CAS 原子指令(由于一旦出现多线程竞争的情况就必须撤销偏向锁，所
以偏向锁的撤销操作的性能损耗必须小于节省下来的 CAS 原子指令的性能消耗)。上面说过，轻
量级锁是为了在线程交替执行同步块时提高性能，而偏向锁则是在只有一个线程执行同步块时进
一步提高性能。</li>
  <li>很多情况下，主线程生成并启动了子线程，需要用到子线程返回的结果，也就是需要主线程需要
在子线程结束后再结束，这时候就要用到 join() 方法。</li>
</ol>

<h4 id="java内存泄露">Java内存泄露</h4>
<ul>
  <li>非静态内部类引用了外部类，类似循环引用。使用静态内部类解决该问题。</li>
</ul>

<h4 id="分布式垃圾回收dgc">分布式垃圾回收DGC？</h4>
<ul>
  <li>分布式垃圾回收。RMI使用DGC来做自动垃圾回收，因为RMI包含了跨虚拟机的远程对象的引用，
  垃圾回收是很困难的。DGC使用引用计数算法来给远程对象提供自动内存管理。</li>
</ul>

<h4 id="请对比下-volatile-对比-synchronized-的异同">请对比下 volatile 对比 Synchronized 的异同。</h4>
<ul>
  <li>Synchronized 既能保证可见性，又能保证原子性，而 volatile 只能保证可见性，无法保证原子性。</li>
  <li>ThreadLocal 和 Synchonized 都用于解决多线程并发访问，防止任务在共享资源上产生冲突。但是Thread Local 与 Synchronized 有本质的区别。
    <ul>
      <li>Synchronized 用于实现同步机制，是利用锁的机制使变量或代码块在某一时该只能被一个线程访问，是一种“以时间换空间”的方式。</li>
      <li>而ThreadLocal 为每一个线程都提供了变量的副本，使得每个线程在某一时间访问到的并不是同一个对象，根除了对变量的共享，是一种“以空间换时间”的方式。</li>
    </ul>
  </li>
</ul>

<h4 id="请谈谈-threadlocal-是怎么解决并发安全的">请谈谈 ThreadLocal 是怎么解决并发安全的？</h4>
<ul>
  <li>ThreadLocal 这是Java提供的一种保存线程私有信息的机制，因为其在整个线程生命周期内有效，所以可以方便地在一个线程关联的不同业务模块之间传递信息，
比如事务, Cookie等上下文相关信息。 ThreadLocal 为每一个线程维护变量的副本，把共享数据的可见范围限制在同一个线程之内，其实现原理是，在ThreadLocal 类中有一个Map ，用于存储每一个线程的变量的副本。
ThreadLocal 注意需要自己remove，否则可能发生泄漏。</li>
</ul>

<h4 id="throwable-是-java-语言中所有错误或异常的超类下一层分为-error-和-exception">Throwable 是 Java 语言中所有错误或异常的超类。下一层分为 Error 和 Exception</h4>
<ol>
  <li>Error 类是指 java 运行时系统的内部错误和资源耗尽错误。应用程序不会抛出该类对象。如果出现了这样的错误，除了告知用户，剩下的就是尽力使程序安全的终止。</li>
  <li>Exception 又有两个分支，一个是运行时异常 RuntimeException，一个是CheckedException。</li>
</ol>

<h4 id="序列化-id">序列化 ID</h4>
<p>Java 平台允许我们在内存中创建可复用的 Java 对象，但一般情况下，只有当 JVM 处于运行时，
这些对象才可能存在，即，这些对象的生命周期不会比 JVM 的生命周期更长。但在现实应用中，
就可能要求在 JVM 停止运行之后能够保存(持久化)指定的对象，并在将来重新读取被保存的对象。
Java 对象序列化就能够帮助我们实现该功能。
 使用 Java 对象序列化，在保存对象时，会把其状态保存为一组字节，在未来，再将这些字节组装
 成对象。必须注意地是，对象序列化保存的是对象的”状态”，即它的成员变量。由此可知，对
 象序列化不会关注类中的静态变量。
 除了在持久化对象时会用到对象序列化之外，当使用 RMI(远程方法调用)，或在网络中传递对象时，
 都会用到对象序列化。Java 序列化 API 为处理对象序列化提供了一个标准机制，该 API 简单易用。
 虚拟机是否允许反序列化，不仅取决于类路径和功能代码是否一致，一个非常重要的一点是两个
 类的序列化 ID 是否一致(就是 private static final long serialVersionUID)</p>

<h4 id="线程间共享">线程间共享</h4>
<p>线程 A 与线程 B 之间如要通信的话，必须要经历下面 2 个步骤: 1. 首先，线程 A 把本地内存 A 中更新过的共享变量刷新到主内存中去。</p>
<ol>
  <li>然后，线程 B 到主内存中去读取线程 A 之前已更新过的共享变量。</li>
</ol>

<h4 id="iterater-和-listiterator-之间有什么区别">Iterater 和 ListIterator 之间有什么区别?</h4>
<p>(1)我们可以使用 Iterator 来遍历 Set 和 List 集合，而 ListIterator 只能遍历 List。 (2)Iterator 只可以向前遍历，而 LIstIterator 可以双向遍历。
(3)ListIterator 从 Iterator 接口继承，然后添加了一些额外的功能，比如添加一个元素、替 换一个元素、获取前面或后面元素的索引位置。</p>

<h4 id="什么是-java-内存模型">什么是 Java 内存模型</h4>
<ul>
  <li>Java 内存模型定义了一种多线程访问 Java 内存的规范。Java 内存模型要完 整讲不是这里几句话能说清楚的，我简单总结一下 Java 内存模型的几部分内 容:</li>
  <li>Java 内存模型将内存分为了主内存和工作内存。类的状态，也就是类之间 共享的变量，是存储在主内存中的，每次 Java 线程用到这些主内存中的变量 的时候，会读一次主内存中的变量，并让这些内存在自己的工作内存中有一份
 拷贝，运行自己线程代码的时候，用到这些变量，操作的都是自己工作内存中 的那一份。在线程代码执行完毕之后，会将最新的值更新到主内存中去</li>
  <li>定义了几个原子操作，用于操作主内存和工作内存中的变量</li>
  <li>定义了 volatile 变量的使用规则</li>
  <li>happens-before，即先行发生原则，定义了操作 A 必然先行发生于操作 B 的一些规则，比如在同一个线程内控制流前面的代码一定先行发生于控制流 后面的代码、一个释放锁 unlock 的动作一定先行发生于后面对于同一个锁进 行锁定 lock 的动作等等，只要符合这些规则，则不需要额外做同步措施，如 果某段代码不符合所有的 happens-before 规则，则这段代码一定是线程非 安全的</li>
  <li>8种内存间操作
    <ul>
      <li>lock：把一个变量标志为一条线程独占的状态</li>
      <li>
        <p>unlock：把一个处于锁定状态的变量释放出来，释放之后的变量才能被其他线程锁定</p>
      </li>
      <li>read：把一个变量值从主内存传输到线程的工作内存，以便load</li>
      <li>
        <p>load：把read操作从主内存得到的变量值放入到工作内存的变量副本中</p>
      </li>
      <li>write：把store操作从工作内存得到的变量的值，放到主内存的变量中</li>
      <li>
        <p>store：把工作内存的变量值传到主内存，以便write</p>
      </li>
      <li>use：把工作内存变量值传递给执行引擎</li>
      <li>assign：将执行引擎值传递给工作内存变量值</li>
    </ul>
  </li>
</ul>

<p>Pojo(plian ordinary普通的; 平常的; java object)</p>

<h4 id="hashmap-为啥size是2的倍数18比17做了哪些优化">HashMap 为啥size是2的倍数，1.8比1.7做了哪些优化？</h4>
<p>JDK1.7 VS JDK1.8 比较
JDK1.8主要解决或优化了一下问题：
resize 扩容优化
引入了红黑树，目的是避免单条链表过长而影响查询效率，红黑树算法请参考
解决了多线程死循环问题，但仍是非线程安全的，多线程时可能会造成数据丢失问题。</p>

<h4 id="seata-的-demo">Seata 的 Demo</h4>

      </div>
      <div style="height:50px;">
	<a href="/%E6%8A%80%E6%9C%AF/2020/06/17/JavaFoundation.html" class="button readmore-button">Read More</a>
      </div>
    </div>
    <br />
    
    <div class="post-contents">
      <h2>
        <a class="post-link" href="/%E6%8A%80%E6%9C%AF/2020/06/07/HackSummary.html">各种攻击</a>
      </h2>
      <span class="post-meta"><i class="fa fa-calendar">&nbsp;&nbsp;</i>Jun 7, 2020</span>
      <span class="post-meta" style="margin-left:50px;margin-right:50px;"><i class="fa fa-comment-o">&nbsp;&nbsp;</i><a style="color:#828282" href="/%E6%8A%80%E6%9C%AF/2020/06/07/HackSummary.html#disqus_thread"></a></span>
      
      <span class="post-meta" ><i class="fa fa-tags">&nbsp;&nbsp;</i>网络</span>
      
      <span class="post-meta" ><i class="fa fa-tags">&nbsp;&nbsp;</i>安全</span>
      

      <div class="post-content truncate" itemprop="articleBody" style="max-height:300px;margin-top:20px;">
	<h4 id="ddos--distributed-denial-of-service-分布式拒绝服务">DDos  Distributed Denial of Service 分布式拒绝服务</h4>
<ul>
  <li>利用大量合法的分布式服务器对目标发送请求，从而导致正常合法用户无法获得服务。通俗点讲就是利用网络节点资源如：IDC服务器、个人PC、手机、智能设备、打印机、摄像头等对目标发起大量攻击请求，从而导致服务器拥塞而无法对外提供正常服务</li>
  <li>分类
    <ul>
      <li>资源消耗类攻击，Syn Flood、Ack Flood、UDP Flood(限流和唯一识别限制)</li>
      <li>服务消耗性攻击，它主要是针对服务的特点进行精确定点打击，如web的CC，数据服务的检索，文件服务的下载等。这类攻击往往不是为了拥塞流量通道或协议处理通道，它们是让服务端始终处理高消耗型的业务的忙碌状态</li>
      <li>反射类攻击，一般请求回应的流量远远大于请求本身流量的大小</li>
      <li>CC(ChallengeCollapsar，挑战黑洞)，不准确的分类，CC攻击的原理是通过代理服务器或者大量肉鸡模拟多个用户访问目标网站的动态页面，制造大量的后台数据库查询动作，消耗目标CPU资源，造成拒绝服务。CC不像DDoS可以用硬件防火墙来过滤攻击，CC攻击本身的请求就是正常的请求。</li>
    </ul>
  </li>
  <li>防御手段
    <ul>
      <li>资源隔离</li>
      <li>应用层用户规则</li>
      <li>数据分析</li>
      <li>资源对抗、流量清洗，比如，隐藏源站IP后将攻击流量引流到高防IP</li>
    </ul>
  </li>
  <li>参考 <a href="https://www.jianshu.com/p/e7a5fdc67b8f">https://www.jianshu.com/p/e7a5fdc67b8f</a></li>
  <li>流量清洗的原理和DDoS流量清洗的实践 <a href="https://dun.163.com/news/p/4e52c024c7c94220b3f7201498a388c6">https://dun.163.com/news/p/4e52c024c7c94220b3f7201498a388c6</a></li>
</ul>

<h4 id="xss-crossing-site-scripting跨站脚本数据被黑客窃取">XSS crossing site scripting,跨站脚本（数据被黑客窃取）</h4>
<ul>
  <li>通过.src的方式，将本地数据提交到黑客后台，需要黑客通过其他手段把js代码注入到正常网站</li>
  <li>防御手段：cookie上加HttpOnly，不允许js读取；服务端过滤script信息；前端展示安全过滤</li>
  <li>参考 <a href="https://www.jianshu.com/p/38d61b0c0a17">https://www.jianshu.com/p/38d61b0c0a17</a></li>
</ul>

<h4 id="csrf-cross-site-request-forgery跨站请求伪造-伪造合法请求">CSRF cross site request forgery,跨站请求伪造 （伪造合法请求）</h4>
<ul>
  <li>A网站登录成功并保持了本地cookie，黑客的B网站读取A的cookie伪造向A的请求</li>
  <li>原因：
    <ul>
      <li>同源策略阻止了js读取其他网站的cookie等内容，但没有防止js向其他网站发出请求</li>
      <li>同源策略限制了ajax请求，但没有限制form表单提交，前文提过img标签不受同源策略限制</li>
      <li>黑客网站利用用户向目标网站发起请求的时候，请求会带上目标网站下发的cookie</li>
    </ul>
  </li>
  <li>防御
    <ul>
      <li>referer(在http请求头中)验证解决方案,浏览器会告诉服务器，哪个页面发送了请求
不过由于 http 头在某些版本的浏览器上存在可被篡改的可能性，所以这个解决方案并不完善</li>
      <li>目标网站通过cookie生成hash值，提交请求时带上hash值，服务端对hash进行过滤</li>
      <li>表单提交加验证码，如图片上的随机字符串</li>
      <li>用户登录时服务端生成token，之后用户请求必须带上token</li>
    </ul>
  </li>
  <li>参考 <a href="https://www.jianshu.com/p/2de97b609a44">https://www.jianshu.com/p/2de97b609a44</a></li>
</ul>

<h4 id="sql注入">SQL注入</h4>
<ul>
  <li><a href="https://www.cnblogs.com/myseries/p/10821372.html">https://www.cnblogs.com/myseries/p/10821372.html</a></li>
</ul>

<h4 id="其他">其他</h4>
<ul>
  <li>常见六大Web安全攻防解析 <a href="https://www.cnblogs.com/fundebug/p/details-about-6-web-security.html">https://www.cnblogs.com/fundebug/p/details-about-6-web-security.html</a></li>
</ul>


      </div>
      <div style="height:50px;">
	<a href="/%E6%8A%80%E6%9C%AF/2020/06/07/HackSummary.html" class="button readmore-button">Read More</a>
      </div>
    </div>
    <br />
    

    <div style="text-align:center">
    
    <div class="pagination">
      
      <a href="/page3" class="button page-button">&laquo;</a>
      

      
      
      <a href="/page3" class="button page-button">1</a>
      
      
      
      <a href="/page2" class="button page-button">2</a>
      
      
      
      <a href="/page3" class="button page-button">3</a>
      
      
      
      <a href="/page3" class="button current-page-button">4</a>
      
      
      
      <a href="/page5" class="button page-button">5</a>
      
      
      
      <a href="/page6" class="button page-button">6</a>
      
      
      
      <a href="/page7" class="button page-button">7</a>
      
      
      
      <a href="/page8" class="button page-button">8</a>
      
      
      
      <a href="/page9" class="button page-button">9</a>
      
      
      
      <a href="/page10" class="button page-button">10</a>
      
      
      
      <a href="/page11" class="button page-button">11</a>
      
      
      
      <a href="/page12" class="button page-button">12</a>
      
      
      
      <a href="/page13" class="button page-button">13</a>
      
      
      
      <a href="/page14" class="button page-button">14</a>
      
      
      
      <a href="/page15" class="button page-button">15</a>
      
      

      
      <a href="/page5" class="button page-button">&raquo;</a>
      
    </div>
    
    </div>
  </div>

    <div class="col-md-4">
    <div class="post-contents">
      <i class="fa fa-tags">&nbsp;&nbsp; Tags</i><br />
      
      
      
      <a  href="/tag/programming">
      <span class="label label-default">programming ( 4 )</span>
      </a><br />

      
      
      
      <a  href="/tag/python">
      <span class="label label-default">python ( 1 )</span>
      </a><br />

      
      
      
      <a  href="/tag/云服务">
      <span class="label label-default">云服务 ( 2 )</span>
      </a><br />

      
      
      
      <a  href="/tag/工具">
      <span class="label label-default">工具 ( 3 )</span>
      </a><br />

      
      
      
      <a  href="/tag/网络">
      <span class="label label-default">网络 ( 9 )</span>
      </a><br />

      
      
      
      <a  href="/tag/构建">
      <span class="label label-default">构建 ( 1 )</span>
      </a><br />

      
      
      
      <a  href="/tag/分布式">
      <span class="label label-default">分布式 ( 15 )</span>
      </a><br />

      
      
      
      <a  href="/tag/股票">
      <span class="label label-default">股票 ( 1 )</span>
      </a><br />

      
      
      
      <a  href="/tag/读书笔记">
      <span class="label label-default">读书笔记 ( 4 )</span>
      </a><br />

      
      
      
      <a  href="/tag/数据库">
      <span class="label label-default">数据库 ( 7 )</span>
      </a><br />

      
      
      
      <a  href="/tag/数据结构与算法">
      <span class="label label-default">数据结构与算法 ( 10 )</span>
      </a><br />

      
      
      
      <a  href="/tag/linux">
      <span class="label label-default">Linux ( 1 )</span>
      </a><br />

      
      
      
      <a  href="/tag/java">
      <span class="label label-default">Java ( 16 )</span>
      </a><br />

      
      
      
      <a  href="/tag/nosql">
      <span class="label label-default">NoSQL ( 1 )</span>
      </a><br />

      
      
      
      <a  href="/tag/极致思考">
      <span class="label label-default">极致思考 ( 1 )</span>
      </a><br />

      
      
      
      <a  href="/tag/架构">
      <span class="label label-default">架构 ( 1 )</span>
      </a><br />

      
      
      
      <a  href="/tag/容器">
      <span class="label label-default">容器 ( 1 )</span>
      </a><br />

      
      
      
      <a  href="/tag/spring">
      <span class="label label-default">Spring ( 2 )</span>
      </a><br />

      
      
      
      <a  href="/tag/微服务">
      <span class="label label-default">微服务 ( 3 )</span>
      </a><br />

      
      
      
      <a  href="/tag/bigdata">
      <span class="label label-default">BigData ( 2 )</span>
      </a><br />

      
      
      
      <a  href="/tag/mq">
      <span class="label label-default">MQ ( 1 )</span>
      </a><br />

      
      
      
      <a  href="/tag/安全">
      <span class="label label-default">安全 ( 1 )</span>
      </a><br />

      
      
      
      <a  href="/tag/用户">
      <span class="label label-default">用户 ( 3 )</span>
      </a><br />

      
      
      
      <a  href="/tag/tob">
      <span class="label label-default">toB ( 1 )</span>
      </a><br />

      
      
      
      <a  href="/tag/策略">
      <span class="label label-default">策略 ( 1 )</span>
      </a><br />

      
      
      
      <a  href="/tag/方法论">
      <span class="label label-default">方法论 ( 1 )</span>
      </a><br />

      
    </div>
    <br />
    <div class="post-contents">
      <h3>About Me</h3>
      <img src="/img/me.jpg" style="margin:20px auto 0 auto;">
      <p style="font-size:18px;margin-top:10px">I'm Siglea,That's All.</p>
      <br />
    </div>
    </div>
</div>
      </div>
      <div class="clearfix">
    </div>

    <footer class="site-footer">

  <div class="container">

    <h2 class="footer-heading">粉笔灰杂谈</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>粉笔灰杂谈</li>
          <li><a href="mailto:siglea@sina.com">siglea@sina.com</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/siglea"><span class="icon icon--github"><svg viewBox="0 0 16 16"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">siglea</span></a>

          </li>
          

          
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>关于产品、技术、商业的一些见解，顺便记录一下自己的生活感悟和读书笔记。</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
